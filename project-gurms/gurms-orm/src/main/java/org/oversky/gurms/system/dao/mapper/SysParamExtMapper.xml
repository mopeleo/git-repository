<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.oversky.gurms.system.dao.SysParamExtDao">
    <resultMap id="BaseResultMap" type="org.oversky.gurms.system.entity.SysParamExt">
        <id column="paramid" jdbcType="INTEGER" property="paramid" />
        <result column="paramname" jdbcType="VARCHAR" property="paramname" />
        <result column="texttitle" jdbcType="VARCHAR" property="texttitle" />
        <result column="texttail" jdbcType="VARCHAR" property="texttail" />
        <result column="distype" jdbcType="INTEGER" property="distype" />
        <result column="dictcode" jdbcType="INTEGER" property="dictcode" />
        <result column="valuelist" jdbcType="VARCHAR" property="valuelist" />
        <result column="initvalue" jdbcType="VARCHAR" property="initvalue" />
        <result column="valuelength" jdbcType="INTEGER" property="valuelength" />
    </resultMap>
	
	<sql id="column_list">
        ${tab}paramid, ${tab}paramname, ${tab}texttitle, ${tab}texttail, ${tab}distype, ${tab}dictcode, ${tab}valuelist, ${tab}initvalue, ${tab}valuelength
	</sql>
  
    <insert id="insert" parameterType="org.oversky.gurms.system.entity.SysParamExt">
        insert into sys_param_ext (<include refid="column_list"><property name="tab" value=""/></include>)
        values (#{paramid, jdbcType=INTEGER}, #{paramname, jdbcType=VARCHAR}, #{texttitle, jdbcType=VARCHAR}, #{texttail, jdbcType=VARCHAR}, #{distype, jdbcType=INTEGER}, #{dictcode, jdbcType=INTEGER}, #{valuelist, jdbcType=VARCHAR}, #{initvalue, jdbcType=VARCHAR}, #{valuelength, jdbcType=INTEGER})
    </insert>
  
    <select id="selectWhere" parameterType="org.oversky.gurms.system.entity.SysParamExt" resultMap="BaseResultMap">
        select <include refid="column_list"><property name="tab" value=""/></include>
          from sys_param_ext
		<where>
			<if test="paramid != null ">
				and paramid = #{paramid, jdbcType=INTEGER}
			</if>
			<if test="paramname != null  and paramname !='' ">
				and paramname = #{paramname, jdbcType=VARCHAR}
			</if>
			<if test="texttitle != null  and texttitle !='' ">
				and texttitle = #{texttitle, jdbcType=VARCHAR}
			</if>
			<if test="texttail != null  and texttail !='' ">
				and texttail = #{texttail, jdbcType=VARCHAR}
			</if>
			<if test="distype != null ">
				and distype = #{distype, jdbcType=INTEGER}
			</if>
			<if test="dictcode != null ">
				and dictcode = #{dictcode, jdbcType=INTEGER}
			</if>
			<if test="valuelist != null  and valuelist !='' ">
				and valuelist = #{valuelist, jdbcType=VARCHAR}
			</if>
			<if test="initvalue != null  and initvalue !='' ">
				and initvalue = #{initvalue, jdbcType=VARCHAR}
			</if>
			<if test="valuelength != null ">
				and valuelength = #{valuelength, jdbcType=INTEGER}
			</if>
		</where>
    </select>

	<select id="getTotal" resultType="int" parameterType="org.oversky.gurms.system.entity.SysParamExt">
        select count(1) from sys_param_ext
		<where>
			<if test="paramid != null ">
				and paramid = #{paramid, jdbcType=INTEGER}
			</if>
			<if test="paramname != null  and paramname !='' ">
				and paramname = #{paramname, jdbcType=VARCHAR}
			</if>
			<if test="texttitle != null  and texttitle !='' ">
				and texttitle = #{texttitle, jdbcType=VARCHAR}
			</if>
			<if test="texttail != null  and texttail !='' ">
				and texttail = #{texttail, jdbcType=VARCHAR}
			</if>
			<if test="distype != null ">
				and distype = #{distype, jdbcType=INTEGER}
			</if>
			<if test="dictcode != null ">
				and dictcode = #{dictcode, jdbcType=INTEGER}
			</if>
			<if test="valuelist != null  and valuelist !='' ">
				and valuelist = #{valuelist, jdbcType=VARCHAR}
			</if>
			<if test="initvalue != null  and initvalue !='' ">
				and initvalue = #{initvalue, jdbcType=VARCHAR}
			</if>
			<if test="valuelength != null ">
				and valuelength = #{valuelength, jdbcType=INTEGER}
			</if>
		</where>
	</select>

    <select id="selectAll" resultMap="BaseResultMap">
        select <include refid="column_list"><property name="tab" value=""/></include>
          from sys_param_ext
    </select>

	<!-- mysql专属 -->
	<insert id="insertBatch" parameterType="java.util.List" useGeneratedKeys="false">
		insert all
		<foreach item="item" index="index" collection="list">
		into sys_param_ext (<include refid="column_list"><property name="tab" value=""/></include>) 
		values (#{item.paramid, jdbcType=INTEGER}, #{item.paramname, jdbcType=VARCHAR}, #{item.texttitle, jdbcType=VARCHAR}, #{item.texttail, jdbcType=VARCHAR}, #{item.distype, jdbcType=INTEGER}, #{item.dictcode, jdbcType=INTEGER}, #{item.valuelist, jdbcType=VARCHAR}, #{item.initvalue, jdbcType=VARCHAR}, #{item.valuelength, jdbcType=INTEGER})
		</foreach>
		select 1 from dual
	</insert>
	
    <select id="selectById" resultMap="BaseResultMap">
        select <include refid="column_list"><property name="tab" value=""/></include>
          from sys_param_ext
         where 1=1 and paramid = #{0}
    </select>

    <delete id="deleteById">
        delete from sys_param_ext
         where 1=1 and paramid = #{0}
    </delete>
  
    <update id="updateById" parameterType="org.oversky.gurms.system.entity.SysParamExt">
        update sys_param_ext set 
               paramname = #{paramname, jdbcType=VARCHAR}, 
               texttitle = #{texttitle, jdbcType=VARCHAR}, 
               texttail = #{texttail, jdbcType=VARCHAR}, 
               distype = #{distype, jdbcType=INTEGER}, 
               dictcode = #{dictcode, jdbcType=INTEGER}, 
               valuelist = #{valuelist, jdbcType=VARCHAR}, 
               initvalue = #{initvalue, jdbcType=VARCHAR}, 
               valuelength = #{valuelength, jdbcType=INTEGER}
         where 1=1 and paramid = #{paramid, jdbcType=INTEGER}
    </update>

	<update id="dynamicUpdateById" parameterType="org.oversky.gurms.system.entity.SysParamExt">
		update sys_param_ext
		<set>
		    <if test="paramname != null">
				paramname = #{paramname, jdbcType=VARCHAR},
		    </if>
		    <if test="texttitle != null">
				texttitle = #{texttitle, jdbcType=VARCHAR},
		    </if>
		    <if test="texttail != null">
				texttail = #{texttail, jdbcType=VARCHAR},
		    </if>
		    <if test="distype != null">
				distype = #{distype, jdbcType=INTEGER},
		    </if>
		    <if test="dictcode != null">
				dictcode = #{dictcode, jdbcType=INTEGER},
		    </if>
		    <if test="valuelist != null">
				valuelist = #{valuelist, jdbcType=VARCHAR},
		    </if>
		    <if test="initvalue != null">
				initvalue = #{initvalue, jdbcType=VARCHAR},
		    </if>
		    <if test="valuelength != null">
				valuelength = #{valuelength, jdbcType=INTEGER},
		    </if>
		</set>
		where 1=1 and paramid = #{paramid, jdbcType=INTEGER}
	</update>
</mapper>